<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <p>
      给出一组数，代表柱状图在坐标中的高度，计算这些柱子所能装下水的最大体积
    </p>
    <script type="text/javascript">
    function sumNumber(n){
      var layer = [1,1];
      var sum = 2;
      if(n == 1 ){
        return 0;
      }else if(n == 2){
        return 1;
      }else{
        for(var i=2; i<n; i++){
          if(n<sum){
            return sum-layer[i-1];
          }else{
            layer[i] = layer[i-1] + layer[i-2];
            sum += layer[i];
          }
        }
      }
    }

    console.log(sumNumber(6));

    function sumVolume(arr){
      var sum = 0;
      var flag = false;

      for(var i=0; i<arr.length-1; i++){
        var temp = 0;
        if(arr[i]!=0){
          flag = true;
        }
        if(flag){
            if(i == arr.length - 2){
              var tempnum = arr[arr.length-1];
              for(var m = (arr.length-1); m>0; m--){
                if(tempnum > arr[m-1]){
                  temp = temp + (tempnum - arr[m-1]);
                }else{
                  break;
                }
              }
            }else{
              for(var j=i+1; j<arr.length; j++){
                  if(j == arr.length-1 ){
                    temp = 0;
                  }else{
                    if(arr[i] > arr[j]){
                      temp = temp + (arr[i] - arr[j]);
                      //console.log(temp);
                    }else{
                      i = j - 1;
                      break;
                    }
                  }
              }
            }
            sum += temp;
        }
      }

      return sum;
    }

    var demo = [0,1,0,2,1,0,1,3,2,1,2,1];
    console.log(sumVolume(demo));
    </script>
  </body>
</html>

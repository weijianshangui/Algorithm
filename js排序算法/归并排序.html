<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>归并排序</title>
  </head>
  <body>
    <script type="text/javascript">
      function mergeSort(arr){
        var result = arr.slice(0);
        function sort(arr){
          var mid = Math.floor(arr.length/2);
          var left = arr.slice(0,mid);
          var right = arr.slice(mid,arr.length);

          if(arr.length == 1){
            return arr;
          }

          return merge(sort(left),sort(right));
        }

        function merge(left,right){
          var result = [];
          while(left.length || right.length){
            if(left.length && right.length){
              if(left[0]<right[0]){
                result.push(left.shift());
              }else{
                result.push(right.shift());
              }
            }else if(left.length){
              result.push(left.shift());
            }else{
              result.push(right.shift());
            }
          }
          return result;
        }
        return sort(result);
      }

      var demoArr = [6,2,9,3,4,5,6,7,3,5,2,1,2,3];
  		console.log(mergeSort(demoArr));
    </script>
  </body>
</html>
